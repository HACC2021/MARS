<!--11/4/21 scaled, boxes need scaling-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500"
      rel="stylesheet"
    />
    <link rel="icon" href="https://www.mauibath.com/wp-content/uploads/2019/10/596998840197290025-300x300.png" />
    <title>HMAR Archives</title>

    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <script>
      function exportTableToCSV(filename) {
        var csv = [];
        var rows = document.querySelectorAll("table tr");

        for (var i = 0; i < rows.length; i++) {
          var row = [],
            cols = rows[i].querySelectorAll("td, th");

          for (var j = 0; j < cols.length; j++) row.push(cols[j].innerText);

          csv.push(row.join(","));
        }

        // Download CSV file
        downloadCSV(csv.join("\n"), filename);
      }
    </script>
    <script>
      function downloadCSV(csv, filename) {
        var csvFile;
        var downloadLink;

        // CSV file
        csvFile = new Blob([csv], { type: "text/csv" });

        // Download link
        downloadLink = document.createElement("a");

        // File name
        downloadLink.download = filename;

        // Create a link to the file
        downloadLink.href = window.URL.createObjectURL(csvFile);

        // Hide download link
        downloadLink.style.display = "none";

        // Add the link to DOM
        document.body.appendChild(downloadLink);

        // Click download link
        downloadLink.click();
      }
    </script>
    <style>
      <style>

            * {
              margin: 0;
              padding: 0;
            }

            li {
              list-style: circle;
              z-index: 100;
              font-size: 20px;
            }

            a {
              text-decoration: none;

            }

        h1 {
           font-size: 15px;
              }

            @media screen and (min-width: 700px) {
        h1 {
           font-size: 30px;
              }
        }
                .header {
            border-bottom: 1px solid #E2E8F0;
          }

          .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            padding-bottom: 1rem;
            padding-left: 1.5rem;
            padding-right: 1.5rem;
          }

          .hamburger {
            display: none;
          }

          .bar {
            display: block;
            width: 25px;
            height: 3px;
            margin: 5px auto;
            -webkit-transition: all 0.3s ease-in-out;
            transition: all 0.3s ease-in-out;
            background-color: #101010;
          }

          .nav-menu {
            display: flex;
            justify-content: space-between;
            align-items: center;
          }

          .nav-item {
            margin-left: 3rem;
          }

          .nav-link {
            font-size: 1rem;
            font-weight: 400;
            color: #475569;
          }

          .nav-link:hover {
            color: #482ff7;
          }

          .nav-logo {
            font-size: 2.1rem;
            font-weight: 500;
            color: #482ff7;
          }

          @media only screen and (max-width: 768px) {
            .nav-menu {
              position: fixed;
              left: 100%;
              top: 5.7rem;
              flex-direction: column;
              background-color: #fff;
              width: 100%;
              text-align: center;
              transition: 0.3s;
              box-shadow: 0 10px 27px rgba(0, 0, 0, 0.05);
            }

            .nav-menu.active {
              left: 0;
            }

            .nav-item {
              margin: 1rem 0;
            }

            .hamburger {
              display: block;
              cursor: pointer;
            }

            .hamburger.active .bar:nth-child(2) {
              opacity: 0;
            }

            .hamburger.active .bar:nth-child(1) {
              -webkit-transform: translateY(8px) rotate(45deg);
              transform: translateY(8px) rotate(45deg);
            }

            .hamburger.active .bar:nth-child(3) {
              -webkit-transform: translateY(-8px) rotate(-45deg);
              transform: translateY(-8px) rotate(-45deg);
            }

    </style>
  </head>

  <!-- this is the start of content -->

  <div>
    <header class="header">
      <nav class="navbar" style="z-index: 100;">
        <a href="#" class="nav-logo"
          ><img
          src=https://www.mauibath.com/wp-content/uploads/2019/10/596998840197290025-300x300.png
          width="60" height="60" style="margin-left: -10%;"></a
        >
        <ul class="nav-menu">
          <li class="nav-item">
            <a href="/MARSapp/hmar/" class="nav-link">Active</a>
          </li>
          <li class="nav-item">
            <a href="/MARSapp/hmar/archive" class="nav-link">Archive</a>
          </li>
        </ul>
        <div class="hamburger">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>
      </nav>
    </header>
  </div>

  <script>
    const hamburger = document.querySelector(".hamburger");
    const navMenu = document.querySelector(".nav-menu");
    const navLink = document.querySelectorAll(".nav-link");

    hamburger.addEventListener("click", mobileMenu);
    navLink.forEach(n => n.addEventListener("click", closeMenu));

    function mobileMenu() {
      hamburger.classList.toggle("active");
      navMenu.classList.toggle("active");
    }

    function closeMenu() {
      hamburger.classList.remove("active");
      navMenu.classList.remove("active");
    }
  </script>
  <style>
            table,
            td {
              border: 2px solid black;
              font-family: "Roboto";
              font-weight: 400;
              text-align: center;
            }
            tbody td {
              padding: 30px;
            }

            tbody tr:nth-child(odd) {
              background-color: #c5cdd9;
              color: #000000;
            }
            th {
              border: 2px solid black;
              font-family: "Roboto";
              font-weight: 400;
              text-align: center;
              border: 1;
            }
            table {
  margin:10px
            }
          </style>

    <h2 style="text-align: center;">
      <!--      <button style="font-size: 14px;" id="reportInput" onclick="myFunction()">-->
      <!--        All Reports-->
      <!--      </button>-->
<!--      <button-->
<!--        style="font-size: 14px; border-radius:8px; background-color:#FFFFFF; font-family: 'Roboto', sans-serif; font-weight: 400;"-->
<!--        id="reportInputYes"-->
<!--        onclick="window.location.href='/MARSapp/hmar/'"-->
<!--      >-->
<!--        Active Reports-->
<!--      </button>-->
      <button
        style="font-size: 14px; border-radius:8px; background-color:#FFFFFF; font-family: 'Roboto', sans-serif; font-weight: 400;"
        onclick="exportTableToCSV('HMAR Data.csv')"
      >
        Export Table to CSV
      </button>



<!--      <button onclick="download_csv_file()"> Download CSV </button>-->


<!--      <a href="{{seal_data}}" download="Seals">-->
<!--         <button type="button">Download</button>-->
<!--      </a>-->

<!--      <input-->
<!--        style="font-size: 16px; border-radius:8px; font-family: 'Roboto', sans-serif; font-weight: 400;"-->
<!--        type="text"-->
<!--        id="myInput"-->
<!--        onkeyup="myFunction()"-->
<!--        placeholder="Search"-->
<!--      />-->
    </h2>

    <div >
      <table
        style="overflow-y: scroll; font-family: 'Roboto', sans-serif; font-weight: 400;"
        align="center"
        style="width: 90%"
        style="max-height: 50px;"
        style="display: block;"
        id="DataTable"
      >
        <tr
          style="text-align: center; background-color:#0973ba; color:#ffffff; font-family: 'Roboto', sans-serif; font-weight: 500;"
        >
          <th>Ticket Number</th>
            <th>Date</th>
            <th>Time</th>
            <th>Observer</th>
            <th>Observer Contact Number</th>
            <th>Observer Type</th>
            <th>animal characteristic</th>
            <th>island</th>
            <th>comment</th>
            <th>humans</th>
            <th>Latitude</th>
            <th>Longitude</th>
            <th>imageID</th>
            <th>Observer Contact</th>
            <th>Hotline Operator</th>
            <th>Ticket Type</th>
            <th>Sighting</th>
            <th>Survey</th>
            <th>Observer Initials</th>
            <th>Observer Type</th>
            <th>Public</th>
            <th>Volunteer slash Staff</th>
            <th>Agency</th>
            <th>Sector</th>
            <th>Location Notes</th>
            <th>Seal Present</th>
            <th>Seal Present Sighting</th>
            <th>Seal Present Survey</th>
            <th>Size</th>
            <th>Sex</th>
            <th>Beach Position</th>
            <th>How Identified</th>
            <th>Tag</th>
            <th>Natural Bleach</th>
            <th>Applied Bleach</th>
            <th>Scars slash Features</th>
            <th>ID Tempt Bleach</th>
            <th>Tag Number</th>
            <th>Tag Side</th>
            <th>Tag Color</th>
            <th>ID Perm</th>
            <th>Molt</th>
            <th>Additional Notes on ID</th>
            <th>ID Verified By</th>
            <th>Seal Bleached Today</th>
            <th>Seal Logging</th>
            <th>Mom and Pup Pair</th>
            <th>Interaction With Human</th>
            <th>Disturbance to Seal</th>
            <th>Survival Factor</th>
            <th>SRA Set Up</th>
            <th>SRA Type</th>
            <th>SRA Disturbance</th>
            <th>SRA Length</th>
            <th>SRA Size Width</th>
            <th>Number of Seals</th>
            <th>SRA Set By</th>
            <th>Number of Volunteers Engaged</th>
            <th>Photos Sent</th>
            <th>Seal Depart Info</th>
            <th>Photos Sent</th>
            <th>Seal Depart Info</th>
            <th>Seal Departed Date</th>
            <th>Seal Departed Time</th>
            <th>Number of Calls</th>
            <th>Other Notes</th>
            <th>Animal Type</th>
        </tr>
        {% for i in seal_archive %}
         <tr style="text-align: center;">
           <td>{{ i.Ticket_Number }}</td>
           <td>{{ i.Date }}</td>
           <td>{{ i.Time }}</td>
           <td>{{ i.Observer }}</td>
           <td>{{ i.Observer_Contact_Number }}</td>
           <td>{{ i.Observer_Type }}</td>
           <td>{{ i.animal_characteristic }}</td>
           <td>{{ i.island }}</td>
           <td>{{ i.comment }}</td>
           <td>{{ i.humans }}</td>
           <td>{{ i.Latitude }}</td>
           <td>{{ i.Longitude }}</td>
           <td>{{ i.imageID }}</td>
           <td>{{ i.Observer_Contact }}</td>
           <td>{{ i.Hotline_Operator }}</td>
           <td>{{ i.Ticket_Type }}</td>
           <td>{{ i.Sighting }}</td>
           <td>{{ i.Survey }}</td>
           <td>{{ i.Observer_Initials }}</td>
           <td>{{ i.Observer_Type }}</td>
           <td>{{ i.Public }}</td>
           <td>{{ i.Volunteer_slash_Staff }}</td>
           <td>{{ i.Agency }}</td>
           <td>{{ i.Sector }}</td>
           <td>{{ i.Location_Notes }}</td>
           <td>{{ i.Seal_Present }}</td>
           <td>{{ i.Seal_Present_Sighting }}</td>
           <td>{{ i.Seal_Present_Survey }}</td>
           <td>{{ i.Size }}</td>
           <td>{{ i.Sex }}</td>
           <td>{{ i.Beach_Position }}</td>
           <td>{{ i.How_Identified }}</td>
           <td>{{ i.Tag }}</td>
           <td>{{ i.Natural_Bleach }}</td>
           <td>{{ i.Applied_Bleach }}</td>
           <td>{{ i.Scars_slash_Features }}</td>
           <td>{{ i.ID_Tempt_Bleach }}</td>
           <td>{{ i.Tag_Number }}</td>
           <td>{{ i.Tag_Side }}</td>
           <td>{{ i.Tag_Color }}</td>
           <td>{{ i.ID_Perm }}</td>
           <td>{{ i.Molt }}</td>
           <td>{{ i.Additional_Notes_on_ID }}</td>
           <td>{{ i.ID_Verified_By }}</td>
           <td>{{ i.Seal_Bleached_Today }}</td>
           <td>{{ i.Seal_Logging }}</td>
           <td>{{ i.Mom_and_Pup_Pair }}</td>
           <td>{{ i.Interaction_With_Human }}</td>
           <td>{{ i.Disturbance_to_Seal }}</td>
           <td>{{ i.Survival_Factor }}</td>
           <td>{{ i.SRA_Set_Up }}</td>
           <td>{{ i.SRA_Type }}</td>
           <td>{{ i.SRA_Disturbance }}</td>
           <td>{{ i.SRA_Length }}</td>
           <td>{{ i.SRA_Size_Width }}</td>
           <td>{{ i.Number_of_Seals }}</td>
           <td>{{ i.SRA_Set_By }}</td>
           <td>{{ i.Number_of_Volunteers_Engaged }}</td>
           <td>{{ i.Photos_Sent }}</td>
           <td>{{ i.Seal_Depart_Info }}</td>
           <td>{{ i.Photos_Sent }}</td>
           <td>{{ i.Seal_Depart_Info }}</td>
           <td>{{ i.Seal_Departed_Date }}</td>
           <td>{{ i.Seal_Departed_Time }}</td>
           <td>{{ i.Number_of_Calls }}</td>
           <td>{{ i.Other_Notes }}</td>
           <td>{{ i.Animal_Type }}</td>
         </tr>
         {% endfor %}
<!--          other databases -->
<!--        <tr>-->

<!--        {% for i in bird_archive %}-->
<!--        <tr style="text-align: center;">-->
<!--          <td><a href="{{ i.Ticket_Number }}" ;>{{ i.Ticket_Number }}</a></td>-->
<!--          <td>{{ i.Date }}</td>-->
<!--          <td>{{ i.Time }}</td>-->
<!--          <td>{{ i.Observer }}</td>-->
<!--          <td>{{ i.Observer_Contact_Number }}</td>-->
<!--          <td>{{ i.Observer_Type }}</td>-->
<!--          <td>{{ i.Location }}</td>-->
<!--          <td>Status</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--          {% endfor %}-->
<!--        {% for i in seal_data %}-->
<!--        <tr style="text-align: center;">-->
<!--          <td><a href="{{ i.Ticket_Number }}" ;>{{ i.Ticket_Number }}</a></td>-->
<!--          <td>{{ i.Date }}</td>-->
<!--          <td>{{ i.Time }}</td>-->
<!--          <td>{{ i.Observer }}</td>-->
<!--          <td>{{ i.Observer_Contact_Number }}</td>-->
<!--          <td>{{ i.Observer_Type }}</td>-->
<!--          <td>{{ i.Location }}</td>-->
<!--          <td>Status</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--          {% endfor %}-->
<!--          {% for i in bird_data %}-->
<!--        <tr style="text-align: center;">-->
<!--          <td><a href="{{ i.Ticket_Number }}" ;>{{ i.Ticket_Number }}</a></td>-->
<!--          <td>{{ i.Date }}</td>-->
<!--          <td>{{ i.Time }}</td>-->
<!--          <td>{{ i.Observer }}</td>-->
<!--          <td>{{ i.Observer_Contact_Number }}</td>-->
<!--          <td>{{ i.Observer_Type }}</td>-->
<!--          <td>{{ i.Location }}</td>-->
<!--          <td>Status</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--          {% endfor %}-->
<!--          {% for i in turtle_data %}-->
<!--        <tr style="text-align: center;">-->
<!--          <td><a href="{{ i.Ticket_Number }}" ;>{{ i.Ticket_Number }}</a></td>-->
<!--          <td>{{ i.Date }}</td>-->
<!--          <td>{{ i.Time }}</td>-->
<!--          <td>{{ i.Observer }}</td>-->
<!--          <td>{{ i.Observer_Contact_Number }}</td>-->
<!--          <td>{{ i.Observer_Type }}</td>-->
<!--          <td>{{ i.Location }}</td>-->
<!--          <td>Status</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--          {% endfor %}-->
        <script>
          function myFunction() {
            // Declare variables
            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("myInput");
            filter = input.value.toUpperCase();
            table = document.getElementById("DataTable");
            tr = table.getElementsByTagName("tr");

            // Loop through all table rows, and hide those who don't match the search query
            for (i = 1; i < tr.length; i++) {
              td = tr[i].getElementsByTagName("td")[1];
              if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                  tr[i].style.display = "";
                } else {
                  tr[i].style.display = "none";
                }
              }
            }
          }
        </script>
      </table>
    </div>
  </head>
</html>
